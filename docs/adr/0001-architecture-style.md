# ADR 0001 — Вибір стилю архітектури: модульний моноліт

- Дата: 2025-11-23
- Статус: Accepted
- Автор: Viktor Hlukhmaniuk (web-voftv-lab1)

## Контекст

Навчальний проєкт — веб-гра за мотивами Voices of the Void.  
Архітектура: один Node.js/Express застосунок з SQLite як БД, фронтенд — простий клієнт на чистому HTML/JS (без окремого SPA/CLI).

Поточний код уже організовано за шарами:

- `domain/` — доменні сутності (наприклад, `Signal`)
- `application/` — сценарії використання (use cases: `CreateSignal`, `GetSignals`)
- `infrastructure/` — адаптери до БД і HTTP (`SignalRepoSqlite`, Express-роутери)
- клієнт — в папці `client/`, без окремого фронтенд-бекенд поділу.

Команда маленька (1 розробник), розгортання — одна навчальна інстанція на локальному середовищі / простому хостингу. Немає вимог до складного масштабування або незалежних релізів.

## Рішення

На поточному етапі курсу **продовжуєю рух як модульний моноліт**.

- Один процес Node.js.
- Один репозиторій, одна кодова база.
- Внутрішня модульність — через чіткі шари (domain / application / infrastructure / client), а не через окремі сервіси.

## Альтернативи

1. **Пілотний варіант мікросервісів**

   Для прикладу можна було б виділити окремий сервіс `signals-service` (сканер сигналів) і окремий `jobs-service` (фонова обробка).  
   Але це суттєво ускладнює:
   - налаштування середовища для лабораторних (кілька процесів / docker),
   - спостережуваність (логування, трейсинг),
   - комунікацію між сервісами (HTTP, messages).

2. **Self-contained systems / front-back split**

   Окремий SPA-клієнт + окремий API-бекенд із власним життєвим циклом. Це додатковий оверхед для поточних завдань практикуму.

## Наслідки

Позитивні:

- Простий запуск і деплой: один Node.js процес, один SQLite.
- Мінімум DevOps-нагрузки, фокус на домені й API.
- Легко розуміти й показувати архітектуру на захисті (шари + модуль навколо Signals).

Негативні / trade-offs:

- Всі модулі розгортаються разом — нема незалежних релізів.
- Горизонтальне масштабування (кілька інстанцій) не продумане — але для лаб це не критично.
- Якщо гра виростатиме до справжнього проєкту, доведеться робити окремий етап з виокремленням сервісів.

